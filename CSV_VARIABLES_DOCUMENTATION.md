# CSV Variables Documentation

This document describes all variables saved in the CSV files generated by the Social Recognition Memory Task.

## File Structure

The experiment generates four CSV files:
1. **recognition_study_[participant_id]_[timestamp].csv** - Study phase data
2. **recognition_trials_[participant_id]_[timestamp].csv** - Recognition phase data
3. **recognition_questions_[participant_id]_[timestamp].csv** - Block-end questionnaire data
4. **recognition_summary_[participant_id]_[timestamp].csv** - Experiment summary (total time)

---

## Study Phase CSV Variables

### `block`
- **Type**: Integer
- **Description**: Block number (0 = practice block, 1-10 = experimental blocks)
- **Example**: `0`, `1`, `2`

### `phase`
- **Type**: String
- **Description**: Phase identifier, always "study" for study phase data
- **Example**: `"study"`

### `trial`
- **Type**: Integer
- **Description**: Trial number within the study phase (1-indexed)
- **Example**: `1`, `2`, `3`

### `image_path`
- **Type**: String
- **Description**: Full path to the studied image file (always IMAGE_X.png, never lures)
- **Example**: `"PLACEHOLDERS/IMAGE_5.png"`

### `image_onset`
- **Type**: Float (Unix timestamp)
- **Description**: Time when the image was displayed (in seconds since epoch)
- **Example**: `1764818171.2572181`

### `image_offset`
- **Type**: Float (Unix timestamp)
- **Description**: Time when the image was removed from display (in seconds since epoch)
- **Example**: `1764818172.2572181`

### `image_duration`
- **Type**: Float (seconds)
- **Description**: Duration the image was displayed (always 1.0 second)
- **Example**: `1.0`

### `fixation_onset`
- **Type**: Float (Unix timestamp) or None
- **Description**: Time when the fixation cross appeared before this image (None for first image)
- **Example**: `1764818170.5`, `None`

### `fixation_offset`
- **Type**: Float (Unix timestamp) or None
- **Description**: Time when the fixation cross was removed (None for first image)
- **Example**: `1764818171.0`, `None`

### `fixation_duration`
- **Type**: Float (seconds) or None
- **Description**: Duration of the fixation cross before this image (randomly jittered between 0.25-0.75 seconds, None for first image)
- **Example**: `0.523456789`, `None`

---

## Recognition Phase CSV Variables

### `block`
- **Type**: Integer
- **Description**: Block number (0 = practice block, 1-10 = experimental blocks)
- **Example**: `0`, `1`, `2`

### `trial`
- **Type**: Integer
- **Description**: Trial number within the recognition phase (1-indexed)
- **Example**: `1`, `2`, `3`

### `phase`
- **Type**: String
- **Description**: Phase identifier, always "recognition" for recognition phase data
- **Example**: `"recognition"`

### `trial_type`
- **Type**: String
- **Description**: Type of trial - either "studied" (original Image version) or "lure" (Lure version of the same object)
- **Example**: `"studied"`, `"lure"`

### `is_studied`
- **Type**: Boolean
- **Description**: True if this is a studied image (original), False if it's a lure
- **Example**: `True`, `False`

### `image_path`
- **Type**: String
- **Description**: Full path to the image shown (Image_XXX.jpg for studied, Lure_XXX.jpg for lures)
  - **Important**: For lures, this is the lure version of the **same object** that was studied (e.g., if `Image_041.jpg` was studied, the lure would be `Lure_041.jpg`, not a random lure from a different object)
- **Example**: `"STIMULI/FRUIT/Apple/Image_041.jpg"`, `"STIMULI/FRUIT/Apple/Lure_041.jpg"`

### `image_onset`
- **Type**: Float (Unix timestamp)
- **Description**: Time when the recognition image was displayed (in seconds since epoch)
- **Example**: `1764818192.494316`

### `participant_first`
- **Type**: Boolean
- **Description**: True if participant responded first, False if AI/partner responded first
- **Example**: `True`, `False`

---

## Participant Response Variables

### `participant_slider_value`
- **Type**: Float (0.0 to 1.0)
- **Description**: Participant's confidence rating on the slider
  - Values closer to 0.0 = OLD (studied)
  - Values closer to 1.0 = NEW (lure)
  - 0.5 = center/uncertain
- **Example**: `0.3142361111111111`, `0.7890563378785669`

### `participant_rt`
- **Type**: Float (seconds)
- **Description**: Participant's reaction time from image onset to when they clicked SUBMIT
- **Example**: `4.68976616859436`, `2.981760025024414`

### `participant_commit_time`
- **Type**: Float (Unix timestamp)
- **Description**: Time when participant clicked the SUBMIT button
- **Example**: `1764818198.3314402`

### `participant_slider_timeout`
- **Type**: Boolean
- **Description**: True if participant timed out (didn't respond within 7 seconds)
- **Example**: `True`, `False`

### `participant_slider_stop_time`
- **Type**: Float (Unix timestamp) or None
- **Description**: Time when participant stopped moving the slider (released mouse button after dragging). None if they never dragged.
- **Example**: `1764818195.5`, `None`

---

## AI/Partner Response Variables

### `ai_slider_value`
- **Type**: Float (0.0 to 1.0)
- **Description**: AI/partner's confidence rating on the slider
  - Values closer to 0.0 = OLD (studied)
  - Values closer to 1.0 = NEW (lure)
- **Example**: `0.6569413750565093`, `0.3563797294608513`

### `ai_rt`
- **Type**: Float (seconds)
- **Description**: AI's reaction time (drawn from log-normal distribution, capped at 5 seconds)
- **Example**: `2.2821904016769365`, `1.2902461381415058`

### `ai_decision_time`
- **Type**: Float (Unix timestamp)
- **Description**: Time when AI internally made its decision (right after make_decision() call)
- **Example**: `1764818198.338135`

### `ai_slider_display_time`
- **Type**: Float (Unix timestamp)
- **Description**: Time when AI's submit button was clicked in the animation (visual commit time)
- **Example**: `1764818200.155891`

### `ai_correct`
- **Type**: Boolean
- **Description**: True if AI's decision was correct (matches ground truth), False otherwise
- **Example**: `True`, `False`

---

## Switch/Stay Decision Variables

### `switch_stay_decision`
- **Type**: String
- **Description**: Participant's decision - "stay" (keep own answer) or "switch" (use partner's answer)
- **Example**: `"stay"`, `"switch"`

### `switch_rt`
- **Type**: Float (seconds)
- **Description**: Reaction time from when decision screen appeared to when participant clicked STAY or SWITCH
- **Example**: `2.829475164413452`, `1.4260890483856201`

### `switch_commit_time`
- **Type**: Float (Unix timestamp)
- **Description**: Time when participant clicked STAY or SWITCH button
- **Example**: `1764818206.231731`

### `switch_timeout`
- **Type**: Boolean
- **Description**: True if participant timed out on switch/stay decision (didn't respond within 7 seconds)
- **Example**: `True`, `False`

### `decision_onset_time`
- **Type**: Float (Unix timestamp)
- **Description**: Time when the switch/stay decision screen appeared with all information
- **Example**: `1764818203.4`

---

## Final Answer and Accuracy Variables

### `final_answer`
- **Type**: Float (0.0 to 1.0)
- **Description**: Final answer used for scoring (participant's value if stayed, AI's value if switched)
- **Example**: `0.0`, `0.3563797294608513`

### `used_ai_answer`
- **Type**: Boolean
- **Description**: True if final answer came from AI (participant switched), False if from participant (stayed)
- **Example**: `True`, `False`

### `ground_truth`
- **Type**: Float
- **Description**: Correct answer (0.0 for studied/OLD, 1.0 for lure/NEW)
- **Example**: `0.0`, `1.0`

### `participant_accuracy`
- **Type**: Boolean
- **Description**: True if final answer was correct (within 0.5 of ground truth), False otherwise
- **Example**: `True`, `False`

---

## Distance Metrics

### `euclidean_participant_to_truth`
- **Type**: Float
- **Description**: Euclidean distance between participant's slider value and ground truth
  - Lower values = closer to correct answer
- **Example**: `0.3142361111111111`, `0.0`

### `euclidean_ai_to_truth`
- **Type**: Float
- **Description**: Euclidean distance between AI's slider value and ground truth
  - Lower values = closer to correct answer
- **Example**: `0.6569413750565093`, `0.0`

### `euclidean_participant_to_ai`
- **Type**: Float
- **Description**: Euclidean distance between participant's and AI's slider values
  - Lower values = more similar ratings
- **Example**: `0.6569413750565093`, `0.042143618349740175`

---

## Outcome Variables

### `outcome_time`
- **Type**: Float (Unix timestamp)
- **Description**: Time when the outcome screen (Correct/Incorrect) was displayed
- **Example**: `1764818206.237804`

### `block_start_time`
- **Type**: Float (Unix timestamp)
- **Description**: Time when the block started (when study phase began)
- **Example**: `1764818000.0`

### `block_end_time`
- **Type**: Float (Unix timestamp)
- **Description**: Time when the block ended (after block-end questions)
- **Example**: `1764818300.0`

### `block_duration_seconds`
- **Type**: Float (seconds)
- **Description**: Total duration of the block in seconds (from start of study phase to end of questions)
- **Example**: `300.5`

### `block_duration_minutes`
- **Type**: Float (minutes)
- **Description**: Total duration of the block in minutes
- **Example**: `5.008`

### `coins_earned`
- **Type**: Float
- **Description**: Points earned this trial (based on Euclidean distance from correct answer)
  - Formula: `1.0 - euclidean_distance(final_answer, ground_truth)`
  - Range: 0.0 to 1.0
  - Includes correctness points + social feedback bonus (randomly 0.5-0.75 if social feedback shown)
- **Example**: `0.6857638888888889`, `0.0`, `1.0`

### `social_feedback`
- **Type**: Boolean
- **Description**: True if social feedback was shown (50% chance if participant switched)
- **Example**: `True`, `False`

### `social_feedback_time`
- **Type**: Float (Unix timestamp) or None
- **Description**: Time when social feedback screen appeared (if shown), None otherwise
- **Example**: `1764818220.497657`, `None`

---

## Block-End Questions CSV Variables

The **recognition_questions_[participant_id]_[timestamp].csv** file contains responses to questions asked at the end of each block (including practice block).

### `participant_id`
- **Type**: String
- **Description**: Participant identifier
- **Example**: `"kini"`, `"P001"`

### `block`
- **Type**: Integer
- **Description**: Block number (0 = practice block, 1-10 = experimental blocks)
- **Example**: `0`, `1`, `2`

### `maximize_goal`
- **Type**: String
- **Description**: Response to "What were you trying to maximize?"
- **Possible values**: `"Correctness"`, `"Both"`, `"Other"`
- **Example**: `"Both"`, `"Correctness"`

### `trust_rating`
- **Type**: Float (0.0 to 1.0)
- **Description**: Response to "How much did you trust your partner?" on slider
  - 0.0 = "Not at all" (left side)
  - 1.0 = "Completely" (right side)
- **Example**: `0.6163194444444444`, `0.5`, `0.9`

### `trust_rt`
- **Type**: Float (seconds)
- **Description**: Reaction time for the trust rating question (time from question onset to response)
- **Note**: If timeout occurred, this will be 7.0 seconds
- **Example**: `3.005747079849243`, `2.5`, `7.0`

### `question1_timeout`
- **Type**: Boolean
- **Description**: True if participant timed out on Question 1 (maximize goal) - didn't respond within 7 seconds
- **Example**: `True`, `False`

### `question2_timeout`
- **Type**: Boolean
- **Description**: True if participant timed out on Question 2 (trust rating) - didn't respond within 7 seconds
- **Example**: `True`, `False`

---

## Summary CSV Variables

The **recognition_summary_[participant_id]_[timestamp].csv** file contains overall experiment summary data.

### `participant_id`
- **Type**: String
- **Description**: Participant identifier
- **Example**: `"kini"`, `"P001"`

### `experiment_start_time`
- **Type**: Float (Unix timestamp)
- **Description**: Time when experiment started (after initial instructions)
- **Example**: `1764818000.0`

### `experiment_end_time`
- **Type**: Float (Unix timestamp)
- **Description**: Time when experiment ended (after final instructions)
- **Example**: `1764820800.0`

### `total_task_time_seconds`
- **Type**: Float (seconds)
- **Description**: Total duration of the experiment in seconds
- **Example**: `2800.5`

### `total_task_time_minutes`
- **Type**: Float (minutes)
- **Description**: Total duration of the experiment in minutes
- **Example**: `46.675`

---

## Notes

- All timestamps are in Unix time (seconds since January 1, 1970)
- All slider values range from 0.0 (OLD/studied) to 1.0 (NEW/lure)
- Timeout variables are True if the participant didn't respond within the time limit:
  - Slider and switch/stay decisions: 7 seconds
  - Block-end questions: 7 seconds each
- The experiment saves data incrementally after each trial, not just at the end
- Block 0 is the practice block (5 trials), blocks 1-10 are experimental blocks (10 trials each)
- Questions are asked after each block (including practice block)
- Points are calculated based on Euclidean distance: `points = 1.0 - distance(final_answer, ground_truth)`
- **Study phase**: Images are shown for 1 second each, with jittered fixations (0.25-0.75 seconds) between images
- **Block timing**: `block_start_time`, `block_end_time`, and `block_duration_seconds`/`block_duration_minutes` are added to all trials within a block. These values are updated at the end of each block, so they represent the complete block duration from study phase start to questions completion.

